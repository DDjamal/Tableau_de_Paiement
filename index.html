<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>محول الأنظمة العددية المتقدم</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Cairo', sans-serif;
    background: #1e1e2f;
    color: #fff;
    margin: 0;
    padding: 20px;
  }
  h1 { text-align: center; color: #00e0ff; }
  .container { max-width: 600px; margin: 0 auto; background: #2a2a40; padding: 20px; border-radius: 15px; box-shadow: 0 0 20px #000; }
  label, select, input, button { display: block; width: 100%; margin: 10px 0; font-size: 16px; }
  input, select { padding: 10px; border-radius: 8px; border: none; outline: none; }
  button { background: #00e0ff; color: #000; font-weight: bold; cursor: pointer; padding: 12px; border-radius: 10px; border: none; transition: 0.3s; }
  button:hover { background: #00c0cc; }
  .result { margin-top: 20px; background: #161630; padding: 15px; border-radius: 10px; }
  pre { background: #0f0f1f; padding: 10px; border-radius: 8px; overflow-x: auto; }
</style>
</head>
<body>

<h1>محول الأنظمة العددية المتقدم</h1>
<div class="container">
  <label>أدخل الرقم:</label>
  <input type="text" id="inputNumber" placeholder="مثال: 2026">

  <label>اختر نظام الرقم الأصلي:</label>
  <select id="inputBase">
    <option value="10">Decimal (عشري)</option>
    <option value="2">Binary (ثنائي)</option>
    <option value="8">Octal (ثماني)</option>
    <option value="16">Hexadecimal (سداسي عشر)</option>
  </select>

  <label>اختر النظام المراد التحويل إليه:</label>
  <select id="outputBase">
    <option value="2">Binary (ثنائي)</option>
    <option value="8">Octal (ثماني)</option>
    <option value="10">Decimal (عشري)</option>
    <option value="16">Hexadecimal (سداسي عشر)</option>
  </select>

  <button onclick="convert()">حوّل الآن</button>

  <div class="result" id="result"></div>
</div>

<script>
function convert() {
  const numStr = document.getElementById('inputNumber').value.trim();
  const inputBase = parseInt(document.getElementById('inputBase').value);
  const outputBase = parseInt(document.getElementById('outputBase').value);
  const resultDiv = document.getElementById('result');

  if(!numStr){
    alert('أدخل الرقم أولاً!');
    return;
  }

  // تحويل الرقم إلى عشري أولاً
  let decimal;
  try {
    decimal = parseInt(numStr, inputBase);
    if(isNaN(decimal)) throw 'خطأ';
  } catch {
    alert('الرقم غير صالح للنظام المختار!');
    return;
  }

  // تحويل الرقم إلى النظام المطلوب
  let output = decimal.toString(outputBase).toUpperCase();

  // توليد خطوات الشرح
  let steps = [];
  if(outputBase !== 10){ // القسمة على الأساس
    let temp = decimal;
    while(temp > 0){
      let remainder = temp % outputBase;
      let remDisplay = remainder > 9 ? String.fromCharCode(55+remainder) : remainder;
      steps.push(`${temp} ÷ ${outputBase} = ${Math.floor(temp/outputBase)} الباقي = ${remDisplay}`);
      temp = Math.floor(temp/outputBase);
    }
    steps = steps.reverse();
  } else { // إذا التحويل إلى Decimal، التوسيع حسب القوى
    let digits = numStr.split('').reverse();
    let sumSteps = digits.map((d,i) => {
      let val = parseInt(d, inputBase);
      return `${val} × ${inputBase}^${i} = ${val*Math.pow(inputBase,i)}`;
    });
    steps = sumSteps;
  }

  resultDiv.innerHTML = `
    <b>النتيجة:</b> ${output}<br><br>
    <b>خطوات التحويل:</b>
    <pre>${steps.join('\n')}</pre>
  `;
}
</script>

</body>
</html>